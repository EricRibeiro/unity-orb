description: >
  This command handles Unity's offline activation following the method described
  in here: https://docs.unity3d.com/Manual/ManualActivationGuide.html#ulf-commandline.

  Requirement: It is necessary to have an environment variable with the
  base64 encoded ULF license file contents.

parameters:
  license:
    type: env_var_name
    default: "ENCODED_ULF_LICENSE"
    description: |
      Enter the name of the environment variable containing Unity's ULF license activation file encoded in base64.
      For more information on how to get such file and encoded it, access the wiki page: TODO create and add wiki page.
  verbose:
    type: boolean
    default: false
    description: |
      If set to "true", all the Unity CLI commands will be output.
steps:
  - run:
      name: Activate Unity
      command: <<include(scripts/activate.sh)>>
      environment:
        PARAM_UNITY_LICENSE: <<parameters.license>>
        PARAM_UNITY_VERBOSE: <<parameters.verbose>>