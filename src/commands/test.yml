description: >
  This command builds an Unity project and stores the resulting artifact.

parameters:
  step-name:
    type: string
    default: Run tests
    description: |
      Specify a custom step name for this command, if desired.
  project-path:
    type: string
    default: "."
    description: |
      Enter the relative path of your Unity project.
      This should be the directory that has an "Assets" folder inside it.
  test-platform:
    type: string
    default: "editmode"

steps:
  - run:
      name: << parameters.step-name >>
      environment:
        PARAM_PROJECT_PATH: << parameters.project-path >>
        PARAM_TEST_PLATFORM: << parameters.test-platform >>
      command: << include(scripts/test.sh) >>
