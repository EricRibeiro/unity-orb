description: >
  This command runs the standalone tests inside your unity project.

  Requirement: Unity must be activated first.

parameters:
  test-platform:
    type: string
    default: "PlayMode"
    description: |
      Target platform for tests to run. Due to unknown reasons, it's only working with "PlayMode".
      Acceptable parameters can be found here: TODO include unity docs link
  verbose:
    type: boolean
    default: false
    description: |
      If set to "true", all the Unity CLI commands will be output.
steps:
  - run:
      environment:
        PARAM_UNITY_TEST_PLATFORM: <<parameters.test-platform>>
        PARAM_VERBOSE: <<parameters.verbose>>
      name: Run tests
      command: <<include(scripts/run-tests.sh)>>
  - store_artifacts:
      path: results.xml
